/*! @version pwa-studio: 0.0.1, @magento/venia-ui: ~9.6.0, @magento/upward-security-headers: ~1.0.10, @magento/pwa-theme-venia: ~1.3.0, @magento/pwa-buildpack: ~11.4.0, @magento/peregrine: ~12.5.1, @magento/pagebuilder: ~7.4.1, @magento/eslint-config: ~1.5.0, @magento/babel-preset-peregrine: ~1.2.1, @apollo/client: ~3.5.0 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"9teu":function(e,t,a){"use strict"
a.r(t),a.d(t,"default",function(){return ve})
var n,r,o,l,i,c,s,g=a("q1tI"),u=a.n(g),d=a("17x9"),m=a("J4zp"),y=a.n(m),p=a("Ty5D"),f=a("+TN3"),b=a("Lm/n"),h=a("y1Xp"),P=a("OlZo"),E=a("Cszt"),_=a("PKba"),v=a("Unmo"),F=a("+wQL"),O=a("VkAN"),j=a.n(O),x=a("UYTu"),C=Object(x.a)(n||(n=j()(["\n    # eslint-disable-next-line @graphql-eslint/require-id-when-available\n    fragment CategoryFragment on CategoryTree {\n        uid\n        meta_title\n        meta_keywords\n        meta_description\n    }\n"]))),S=Object(x.a)(r||(r=j()(["\n    fragment ProductsFragment on Products {\n        items {\n            id\n            uid\n            name\n            price_range {\n                maximum_price {\n                    final_price {\n                        currency\n                        value\n                    }\n                    regular_price {\n                        currency\n                        value\n                    }\n                    discount {\n                        amount_off\n                    }\n                }\n            }\n            sku\n            small_image {\n                url\n            }\n            stock_status\n            rating_summary\n            __typename\n            url_key\n        }\n        page_info {\n            total_pages\n        }\n        total_count\n    }\n"]))),I={getCategoryQuery:Object(x.a)(o||(o=j()(["\n    query GetCategories(\n        $id: String!\n        $pageSize: Int!\n        $currentPage: Int!\n        $filters: ProductAttributeFilterInput!\n        $sort: ProductAttributeSortInput\n    ) {\n        categories(filters: { category_uid: { in: [$id] } }) {\n            # eslint-disable-next-line @graphql-eslint/require-id-when-available\n            items {\n                uid\n                ...CategoryFragment\n            }\n        }\n        products(\n            pageSize: $pageSize\n            currentPage: $currentPage\n            filter: $filters\n            sort: $sort\n        ) {\n            ...ProductsFragment\n        }\n    }\n    ","\n    ","\n"])),C,S),getFilterInputsQuery:Object(x.a)(l||(l=j()(['\n    query GetFilterInputsForCategory {\n        __type(name: "ProductAttributeFilterInput") {\n            inputFields {\n                name\n                type {\n                    name\n                }\n            }\n        }\n    }\n'])))},w=a("kriW"),N=a("yf4o"),k=a("Cess"),q=Object(x.a)(i||(i=j()(["\n    query getProductFiltersByCategory(\n        $categoryIdFilter: FilterEqualTypeInput!\n    ) {\n        products(filter: { category_uid: $categoryIdFilter }) {\n            aggregations {\n                label\n                count\n                attribute_code\n                options {\n                    label\n                    value\n                }\n                position\n            }\n        }\n    }\n"]))),T={getCategoryContentQuery:Object(x.a)(c||(c=j()(["\n    query getCategoryData($id: String!) {\n        categories(filters: { category_uid: { in: [$id] } }) {\n            # eslint-disable-next-line @graphql-eslint/require-id-when-available\n            items {\n                uid\n                name\n                description\n                url_key\n                url_path\n            }\n        }\n    }\n"]))),getProductFiltersByCategoryQuery:q,getCategoryAvailableSortMethodsQuery:Object(x.a)(s||(s=j()(["\n    query getCategoryAvailableSortMethods(\n        $categoryIdFilter: FilterEqualTypeInput!\n    ) {\n        products(filter: { category_uid: $categoryIdFilter }) {\n            sort_fields {\n                options {\n                    label\n                    value\n                }\n            }\n        }\n    }\n"])))},z=a("Rpel"),D=a("pezu"),M=a("RL9Z"),W=a("LlM3"),$=a("vh/y"),B=a("rP9t"),A=a("UPvi"),L=a("C0us"),Q=a("tuiD"),J=a("JCOj"),R=a("STDB"),U=a("zrp3"),G=a("Y5d+"),Z=a("hbEb"),H=a("LboF"),V=a.n(H),Y=a("FGp0"),X={injectType:"singletonStyleTag",insert:"head",singleton:!0},K=(V()(Y.a,X),Y.a.locals||{}),ee=a("dDsW"),te=a("55Ip"),ae=a("UqBt"),ne=e=>Boolean(e.parentId),re=a("STEg"),oe=a("OlhY"),le=a("u2JS"),ie=a.n(le),ce=a("ZBw8"),se={injectType:"singletonStyleTag",insert:"head",singleton:!0},ge=(V()(ce.a,se),ce.a.locals||{}),ue=e=>{var t=e.categoryId,a=Object(h.a)(ge,e.classes),n=Object(ee.a)().formatMessage,r=(e=>{var t=e.categoryId,a=Object(ae.b)(),n=y()(a,1)[0].categories
return{recommendedCategories:Object(g.useMemo)(()=>{var e,a=Object.values(n).filter(ne).filter(e=>e.id!==t),r=a.length
if(r<=3)e=a
else{var o=r-3+1,l=Math.floor(Math.random()*o),i=l+3
e=a.slice(l,i)}return e},[t,n])}})({categoryId:t}).recommendedCategories,o=Object(g.useMemo)(()=>r.map(e=>{var t=Object(re.a)("/".concat(e.url_path).concat(e.url_suffix))
return u.a.createElement("li",{key:e.id,className:a.listItem},u.a.createElement(te.b,{to:t},e.name))}),[a,r]),l=n({id:"noProductsFound.noProductsFound",defaultMessage:"Sorry! We couldn't find any products."})
return u.a.createElement("div",{className:a.root},u.a.createElement(oe.a,{alt:l,classes:{image:a.image,root:a.imageContainer},src:ie.a}),u.a.createElement("h2",{className:a.title},l),u.a.createElement("div",{className:a.categories},u.a.createElement("p",null,u.a.createElement(w.a,{id:"noProductsFound.tryOneOfTheseCategories",defaultMessage:"Try one of these categories"})),u.a.createElement("ul",{className:a.list},o)))},de=ue
ue.propTypes={categoryId:d.number,classes:Object(d.shape)({root:d.string,title:d.string,list:d.string,categories:d.string,listItem:d.string,image:d.string,imageContainer:d.string})}
var me,ye=u.a.lazy(()=>Promise.all([a.e(0),a.e(2),a.e(9)]).then(a.bind(null,"dzHx"))),pe=u.a.lazy(()=>Promise.all([a.e(0),a.e(2),a.e(12)]).then(a.bind(null,"SAkj"))),fe=e=>{var t=e.categoryId,a=e.data,n=e.isLoading,r=e.pageControl,o=e.sortProps,l=e.pageSize,i=y()(o,1)[0],c=(e=>{var t=e.categoryId,a=e.data,n=e.pageSize,r=void 0===n?6:n,o=Object(h.a)(T,e.operations),l=o.getCategoryContentQuery,i=o.getProductFiltersByCategoryQuery,c=o.getCategoryAvailableSortMethodsQuery,s=Array.from({length:r}).fill(null),u=Object(b.a)(i,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),d=y()(u,2),m=d[0],p=d[1].data,P=Object(b.a)(c,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),E=y()(P,2),_=E[0],v=E[1].data,F=Object(f.a)(l,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:!t,variables:{id:t}}),O=F.data,j=F.loading,x=Object(k.b)(),C=y()(x,2)[1].dispatch
Object(g.useEffect)(()=>{t&&m({variables:{categoryIdFilter:{eq:t}}})},[t,m]),Object(g.useEffect)(()=>{t&&_({variables:{categoryIdFilter:{in:t}}})},[t,_])
var S=p?p.products.aggregations:null,I=a?a.products.items:s,w=a?a.products.page_info.total_pages:null,N=a?a.products.total_count:null,q=O&&O.categories.items.length?O.categories.items[0].name:null,z=O&&O.categories.items.length?O.categories.items[0].description:null,D=v?v.products.sort_fields.options:null
return Object(g.useEffect)(()=>{!j&&O.categories.items.length>0&&C({type:"CATEGORY_PAGE_VIEW",payload:{id:O.categories.items[0].uid,name:O.categories.items[0].name,url_key:O.categories.items[0].url_key,url_path:O.categories.items[0].url_path}})},[O,C,j]),{availableSortMethods:D,categoryName:q,categoryDescription:z,filters:S,items:I,totalCount:N,totalPagesFromData:w}})({categoryId:t,data:a,pageSize:l}),s=c.availableSortMethods,d=c.categoryName,m=c.categoryDescription,p=c.filters,P=c.items,E=c.totalCount,_=c.totalPagesFromData,v=Object(g.useRef)(null),F=Object(h.a)(K,e.classes),O=Object(N.a)({elementRef:v}),j=p&&p.length,x=null===p,C=_&&s,S=!_&&n,I=j?u.a.createElement(D.a,{filters:p}):x?u.a.createElement(M.a,null):null,q=j?u.a.createElement(ye,{filters:p}):null,H=j?u.a.createElement(pe,{filters:p}):x?u.a.createElement(W.a,null):null,V=C?u.a.createElement(Q.a,{sortProps:o,availableSortMethods:s}):S?u.a.createElement(J.a,null):null,Y=C?u.a.createElement(G.a,{currentSort:i}):S?u.a.createElement(Z.a,null):null,X=E>0?u.a.createElement(w.a,{id:"categoryContent.resultCount",values:{count:E},defaultMessage:"{count} Results"}):n?u.a.createElement(U.a,{width:5}):null,ee=m?u.a.createElement(R.a,{html:m}):null,te=Object(g.useMemo)(()=>{if(!_&&!n)return u.a.createElement(de,{categoryId:t})
var e=_?u.a.createElement($.a,{items:P}):u.a.createElement(B.a,{items:P}),a=_?u.a.createElement(L.a,{pageControl:r}):null
return u.a.createElement(g.Fragment,null,u.a.createElement("section",{className:F.gallery},e),u.a.createElement("div",{className:F.pagination},a))},[t,F.gallery,F.pagination,n,P,r,_]),ae=d||u.a.createElement(U.a,{width:5})
return u.a.createElement(g.Fragment,null,u.a.createElement(z.a,{categoryId:t}),u.a.createElement(A.b,null,d),u.a.createElement("article",{className:F.root},u.a.createElement("div",{className:F.categoryHeader},u.a.createElement("h1",{"aria-live":"polite",className:F.title},u.a.createElement("div",{className:F.categoryTitle},ae)),ee),u.a.createElement("div",{className:F.contentWrapper},u.a.createElement("div",{ref:v,className:F.sidebar},u.a.createElement(g.Suspense,{fallback:u.a.createElement(W.a,null)},O?H:null)),u.a.createElement("div",{className:F.categoryContent},u.a.createElement("div",{className:F.heading},u.a.createElement("div",{className:F.categoryInfo},X),u.a.createElement("div",{className:F.headerButtons},I,V),Y),te,u.a.createElement(g.Suspense,{fallback:null},q)))))},be=fe
fe.propTypes={classes:Object(d.shape)({gallery:d.string,pagination:d.string,root:d.string,categoryHeader:d.string,title:d.string,categoryTitle:d.string,sidebar:d.string,categoryContent:d.string,heading:d.string,categoryInfo:d.string,headerButtons:d.string}),sortProps:d.array,pageSize:d.number}
var he=Object(x.a)(me||(me=j()(["\n    query getPageSize {\n        # eslint-disable-next-line @graphql-eslint/require-id-when-available\n        storeConfig {\n            store_code\n            grid_per_page\n        }\n    }\n"]))),Pe=a("Fk0k"),Ee=(new Map).set("NOT_FOUND","Looks like the category you were hoping to find doesn't exist. Sorry about that."),_e=e=>{var t=e.uid,a=Object(ee.a)().formatMessage,n=(e=>{var t=e.id,a=e.queries.getPageSize,n=Object(h.a)(I,e.operations),r=n.getCategoryQuery,o=n.getFilterInputsQuery,l=Object(f.a)(a,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}).data,i=l&&l.storeConfig.grid_per_page,c=Object(E.a)(),s=y()(c,2),u=s[0],d=s[1],m=u.currentPage,O=u.totalPages,j=d.setCurrentPage,x=d.setTotalPages,C=Object(v.a)({sortFromSearch:!1}),S=y()(C,1)[0],w=Object(g.useRef)(S),N={currentPage:m,setPage:j,totalPages:O},k=Object(P.b)(),q=y()(k,2)[1].actions.setPageLoading,T=Object(b.a)(r,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),z=y()(T,2),D=z[0],M=z[1],W=M.called,$=M.loading,B=M.error,A=M.data,L=Object(p.h)().search,Q=!!A&&$
Object(g.useEffect)(()=>{q(Q)},[Q,q])
var J=Object(g.useRef)(L),R=Object(f.a)(o,{fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),U=R.called,G=R.data,Z=R.loading,H=Object(g.useMemo)(()=>{var e=new Map
return G&&G.__type.inputFields.forEach(t=>{var a=t.name,n=t.type
e.set(a,n.name)}),e},[G])
Object(g.useEffect)(()=>{if(H.size&&i){var e=Object(F.c)(L),a={}
e.forEach((e,t)=>{a[t]=Object(F.b)(e,H.get(t))}),a.category_uid={eq:t},D({variables:{currentPage:Number(m),id:t,filters:a,pageSize:Number(i),sort:{[S.sortAttribute]:S.sortDirection}}})}},[m,S,H,t,i,D,L])
var V=A?A.products.page_info.total_pages:null
Object(g.useEffect)(()=>(x(V),()=>{x(null)}),[x,V]),Object(g.useEffect)(()=>{!B||$||A||1===m||j(1)},[m,B,$,j,A]),Object(g.useEffect)(()=>{var e=new URLSearchParams(J.current),t=new URLSearchParams(L)
e.delete("page"),t.delete("page"),e.toString()===t.toString()&&w.current.sortAttribute.toString()===S.sortAttribute.toString()&&w.current.sortDirection.toString()===S.sortDirection.toString()||(j(1,!0),J.current=L,w.current=S)},[S,J,L,j])
var Y=$&&!A?null:A,X=!$&&A&&0===A.categories.items.length,K=A&&A.categories.items[0]&&A.categories.items[0].meta_description?A.categories.items[0].meta_description:"",ee=U&&!W||$&&!A||Z
return Object(_.a)(m),{error:B,categoryData:Y,loading:ee,metaDescription:K,pageControl:N,sortProps:C,pageSize:i,categoryNotFound:X}})({id:t,queries:{getPageSize:he}}),r=n.error,o=n.metaDescription,l=n.loading,i=n.categoryData,c=n.pageControl,s=n.sortProps,d=n.pageSize,m=n.categoryNotFound,O=Object(h.a)(K,e.classes)
return!i&&r&&1===c.currentPage?u.a.createElement(Pe.a,null):m?u.a.createElement(Pe.a,{message:a({id:"category.notFound",defaultMessage:Ee.get("NOT_FOUND")})}):u.a.createElement(g.Fragment,null,u.a.createElement(A.a,{name:"description",content:o}),u.a.createElement(be,{categoryId:t,classes:O,data:i,isLoading:l,pageControl:c,sortProps:s,pageSize:d}))}
_e.propTypes={classes:Object(d.shape)({gallery:d.string,root:d.string,title:d.string}),uid:d.string},_e.defaultProps={uid:"Mg=="}
var ve=_e},FGp0:function(e,t,a){"use strict"
var n=a("JPst"),r=a.n(n)()(function(e){return e[1]})
r.push([e.i,".category-root-89q {\n}\n\n.category-title-J65 {\n}\n\n.category-pagination-W3D {\n}\n\n.category-placeholder-eiC {\n}\n\n.category-categoryTitle-hxg {\n}\n\n.category-heading-cBC {\n}\n\n.category-categoryContent-yd9 {\n}\n\n.category-categoryInfo-WW8 {\n    flex-basis: 100%;\n}\n\n.category-headerButtons-ZNv {\n    flex-basis: 100%;\n}\n\n.category-contentWrapper-2W7 {\n}\n\n.category-sidebar-HXv {\n}\n",""]),r.locals={root:"category-root-89q p-xs",title:"category-title-J65 font-normal px-2xs py-0 text-xl",pagination:"category-pagination-W3D relative bottom-0",placeholder:"category-placeholder-eiC h-screen",categoryTitle:"category-categoryTitle-hxg font-light leading-snug pb-xs text-colorDefault text-center text-xl",heading:"category-heading-cBC flex flex-wrap justify-center pb-2xs lg_flex-nowrap lg_items-center lg_justify-between lg_pb-sm lg_w-full",categoryContent:"category-categoryContent-yd9 lg_flex-grow",categoryInfo:"category-categoryInfo-WW8 leading-tight max-w-[75vw] mx-0 my-xs text-center lg_m-0 lg_text-left",headerButtons:"category-headerButtons-ZNv flex justify-center pb-sm lg_justify-end lg_pb-0",contentWrapper:"category-contentWrapper-2W7 w-full lg_flex",sidebar:"category-sidebar-HXv hidden lg_flex lg_self-start lg_pt-16 lg_w-filterSidebarWidth"},t.a=r},ZBw8:function(e,t,a){"use strict"
var n=a("JPst"),r=a.n(n)()(function(e){return e[1]})
r.push([e.i,".noProductsFound-root--7F {\n}\n\n.noProductsFound-title-Ecz {\n}\n\n.noProductsFound-categories-xqT {\n}\n\n.noProductsFound-list-zoU {\n}\n\n.noProductsFound-listItem-ik7 {\n}\n\n.noProductsFound-imageContainer-qy1 {\n}\n\n.noProductsFound-image-pVs {\n}\n",""]),r.locals={root:"noProductsFound-root--7F flex flex-col h-screen items-center justify-center",title:"noProductsFound-title-Ecz font-semibold text-colorDefault text-center",categories:"noProductsFound-categories-xqT mt-md",list:"noProductsFound-list-zoU mt-xs",listItem:"noProductsFound-listItem-ik7 mb-2xs text-center underline last_mb-0",imageContainer:"noProductsFound-imageContainer-qy1 mb-md",image:"noProductsFound-image-pVs h-[200px] max-w-[200px] w-[200px]"},t.a=r},u2JS:function(e,t,a){e.exports=a.p+"noProductsFound-e9n.png"}}])
